<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEA - Adulto - 14</title>
    <meta property="og:title" content="TEA - Adulto - 14">
    <meta property="og:description" content="Teste de identificação de traços autistas em adultos">
    <meta property="og:image" content="https://blogger.googleusercontent.com/img/a/AVvXsEh40Eulpe-YZG7lV9fvJJRnmd9ZurKrH4GhrSzziAPiGdLqjuOX-xNDcYews2dBUpHqvfVozuL22ISDNktw8yMGvRPMkl6Ykc_KF7uQ87UiaVkT0o8fdYgcEaUWP6Y9oMSVDcQSkM8N-McMsNF_RO59R5z_-O2fDANLR8gF03M3LwcskULu_mwM6IVxe7nu=s814">
    <meta property="og:url" content="https://utilitea.glide.page">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="utiliTEA">
    <meta property="og:locale" content="pt_BR">
    <style>
        body {
            font-family: San Francisco, sans-serif;
            background-color: linear-gradient(to right, #007aff, #00c6ff);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        #header {
            width: 100%;
            background: linear-gradient(90deg, #1A237E, #283593);
            color: #fff;
            display: flex;
            align-items: center;
            padding: 10px;
        }

        #header img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }

        #header h1 {
            font-size: 18px;
            margin: 0;
        }

        #chat-container {
            flex: 1;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        
        #submit-btn {
            display: none;
        }


        .message {
    padding: 12px 20px;
    border-radius: 18px; /* Arredondamento das bordas */
    margin: 10px 0;
    max-width: 75%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Adiciona sombra suave */
}

        .bot {
            background-color: #B3E5FC;
            align-self: flex-start;
        }

        .user {
            background-color: #3D5AFE;
            color: #fff;
            align-self: flex-end;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }

        .dot {
            width: 8px;
            height: 8px;
            background-color: #999;
            border-radius: 50%;
            margin-right: 5px;
            animation: blink 1s infinite;
        }

        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes blink {
            0% { opacity: 0.2; }
            20% { opacity: 1; }
            100% { opacity: 0.2; }
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .options {
            display: flex;
            flex-direction: column;
            margin-top: 10px;
        }

        .option-btn {
            padding: 10px;
            margin: 5px 0;
            border: none;
            border-radius: 18px;
            cursor: pointer;
            background-color: #1A237E;
            color: #fff;
            text-align: left;
            transition: transform 0.1s ease-in-out;
            text-shadow: 1px 1px 2px #000000; /* Sombra preta suave */
        }
        .option-btn:active {
            transform: scale(0.95);
        }

        .option-btn:hover,
        .option-btn.selected {
            background-color: #536DFE;
            color: #ffffff; /* Branco puro */
        }

        #admin-message {
            width: 100%;
            background-color: #000;
            color: #999;
            padding: 10px;
            text-align: center;
            font-size: 14px;
            position: absolute;
            bottom: 0;
            left: 0;
        }

        #action-buttons {
            display: none;
            padding: 10px;
            margin-top: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #action-buttons button {
    padding: 10px;
    margin-top: 10px;
    width: 100%;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    background-color: #007aff; /* Azul do iPhone */
    color: #fff;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Sombra para estilo */
    transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.1s ease-in-out;
}
#action-buttons button:active {
            transform: scale(0.95);
        }

#action-buttons button:hover {
    background-color: #1a3387;
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15); /* Sombra mais intensa no hover */
}

.message-bubble {
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}


    </style>
</head>
<body>
    <div id="header">
        <img src="https://blogger.googleusercontent.com/img/a/AVvXsEh40Eulpe-YZG7lV9fvJJRnmd9ZurKrH4GhrSzziAPiGdLqjuOX-xNDcYews2dBUpHqvfVozuL22ISDNktw8yMGvRPMkl6Ykc_KF7uQ87UiaVkT0o8fdYgcEaUWP6Y9oMSVDcQSkM8N-McMsNF_RO59R5z_-O2fDANLR8gF03M3LwcskULu_mwM6IVxe7nu=s814" alt="Logo">
        <h1>TEA - Adulto - 14</h1>
    </div>

    <div id="chat-container"></div>
    
    <div id="action-buttons">
        <button id="submit-btn">Submeter</button>
        <button id="reset-btn">Reiniciar teste</button>
    </div>

    <script>
        let currentQuestion = 0;
        let answers = [];
        const questions = [
            "<b>01/14:</b> É difícil para mim entender como as outras pessoas estão se sentindo quando estamos conversando.",
            "<b>02/14:</b> Algumas texturas comuns que não incomodam outras pessoas me parecem muito ofensivas quando tocam minha pele.",
            "<b>03/14:</b> É muito difícil para mim trabalhar e funcionar em grupos.",
            "<b>04/14:</b> É difícil descobrir o que as outras pessoas esperam de mim.",
            "<b>05/14:</b> Eu só gosto de conversar com pessoas que compartilham meus interesses especiais.",
            "<b>06/14:</b> Eu fico chateado quando minhas coisas são movidas.",
            "<b>07/14:</b> É difícil para mim entender o significado das expressões faciais que as pessoas usam quando estamos conversando.",
            "<b>08/14:</b> Quando estou conversando com alguém, é difícil para mim entender se estou ou não incomodando eles.",
            "<b>09/14:</b> Quando estou em um lugar barulhento ou movimentado, eu sinto que preciso escapar.",
            "<b>10/14:</b> É difícil para mim entender a maneira que as outras pessoas interpretam o que eu digo.",
            "<b>11/14:</b> Pode ser muito difícil ler o rosto, as mãos e os movimentos do corpo de alguém quando estamos conversando.",
            "<b>12/14:</b> Eu me concentro nos detalhes em vez da ideia geral.",
            "<b>13/14:</b> Eu levo as coisas muito a sério, então muitas vezes não entendo o que as pessoas estão tentando dizer.",
            "<b>14/14:</b> Fico extremamente chateado quando a maneira como gosto de fazer as coisas muda repentinamente.",
            // Adicione mais perguntas aqui...
        ];

        async function addMessage(message, sender) {
            const chatContainer = document.getElementById('chat-container');

            const typingIndicator = document.createElement('div');
            typingIndicator.className = 'typing-indicator';
            typingIndicator.innerHTML = '<div class="dot"></div><div class="dot"></div><div class="dot"></div>';
            chatContainer.appendChild(typingIndicator);
            chatContainer.scrollTop = chatContainer.scrollHeight;

            await new Promise(resolve => setTimeout(resolve, 1500));

            chatContainer.removeChild(typingIndicator);

            const messageElement = document.createElement('div');
            messageElement.className = 'message ' + sender;
            messageElement.innerHTML = message;
            chatContainer.appendChild(messageElement);

            chatContainer.scrollTop = chatContainer.scrollHeight;

            await new Promise(resolve => setTimeout(resolve, 500));
        }

        async function startForm() {
            await addMessage("<p>Olá, esta é uma ferramenta de triagem projetada para identificação de traços autísticos em adultos, por meio de <b>14 perguntas</b>, para chamar a atenção em casos que merecem <b>buscar uma avaliação profissional adequada</b></p><p>Esse chat é uma tradução livre do teste original, <b>RAADS</b>, que se encontra em inglês na página <a href='https://psychology-tools.com/test/raads-14' target='_blank'>Psychology Tools</a>.</p><p><b>Fonte:</b><a href='https://pubmed.ncbi.nlm.nih.gov/10382133/' target='_blank'>S Ehlers, C Gillberg, L Wing. A screening questionnaire for Asperger syndrome and other high-functioning autism spectrum disorders in school age children. J Autism Dev Disord. 1999; 29(2): 129–141.</a></p><p><b>Instruções: 1)</b> Se marcar uma opção errada, reinicie o teste para evitar erro no resultado!</p><p><b>2)</b> Para cada afirmação abaixo, escolha uma resposta que melhor se aplica a você.</p>", "bot");
            
            showNextQuestion();
        }

        async function showNextQuestion() {
            if (currentQuestion < questions.length) {
                await addMessage(questions[currentQuestion], "bot");
                showOptions();
            } else {
                showActionButtons();
            }
        }

        function showOptions() {
            const chatContainer = document.getElementById('chat-container');
            const optionsContainer = document.createElement('div');
            optionsContainer.className = 'options';

            const options = ["🙁 Verdade agora e quando eu era adolescente (<17)", "🤔 Verdade apenas agora", "😊 Verdade só na adolescência (<17)", "🤔 Mentira"];

            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.innerText = option;
                button.onclick = () => handleUserResponse(button, option);
                optionsContainer.appendChild(button);
            });

            chatContainer.appendChild(optionsContainer);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

function handleUserResponse(button, response) {
    const buttons = button.parentElement.querySelectorAll('.option-btn');
    buttons.forEach(btn => btn.classList.remove('selected'));
    button.classList.add('selected');

    // Atualize a resposta para a pergunta atual
    answers[currentQuestion] = response;

    // Recalcule o resultado se já estiver na última pergunta
    if (currentQuestion === questions.length - 1) {
        submitForm();
    } else {
        currentQuestion++;
        showNextQuestion();
    }
}



        function showActionButtons() {
            const actionButtons = document.getElementById('action-buttons');
            actionButtons.style.display = 'flex';

            const chatContainer = document.getElementById('chat-container');
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

function submitForm() {
    // Calcule a pontuação com base nas respostas
    const score = answers.reduce((total, answer) => {
        if (answer === "😊 Verdade só na adolescência (<17)") return total + 3;
        if (answer === "🤔 Verdade apenas agora") return total + 2;
        if (answer === "🙁 Verdade agora e quando eu era adolescente (<17)") return total + 1;
        return total; // "🤔 Mentira" = 0 ponto
    }, 0);

    let resultMessage = `<span style='color:#0357ab; font-weight:bold;'>Resultado: ${score} pontos.</span> `;

    if (score <= 10) {
        resultMessage += "<span style='color:#0357ab;'><b>Baixo índice de traços de TEA.</b></span>";
    } else if (score <= 20 && score > 10) { // Corrigido 'totalScore' para 'score'
        resultMessage += "<span style='color:#bf7e08;'><b>Médio índice de traços de TEA. Considere falar com um profissional.</b></span>";
    } else {
        resultMessage += "<span style='color:#a8020a;'><b>Alto índice de traços autísticos. Procure uma avaliação profissional.</b></span>";
    }

    // Exibir o resultado em um pop-up centralizado
    const resultPopup = document.createElement('div');
    resultPopup.style.position = 'fixed';
    resultPopup.style.top = '50%';
    resultPopup.style.left = '50%';
    resultPopup.style.transform = 'translate(-50%, -50%)';
    resultPopup.style.backgroundColor = '#fff';
    resultPopup.style.padding = '20px';
    resultPopup.style.borderRadius = '10px';
    resultPopup.style.boxShadow = '0 0 10px rgba(0, 0, 0, 0.3)';
    resultPopup.style.zIndex = '1000';
    resultPopup.style.textAlign = 'justify'; // Texto justificado
    resultPopup.innerHTML = resultMessage;

    // Centralizar o texto e torná-lo responsivo
    resultPopup.style.display = 'flex';
    resultPopup.style.flexDirection = 'column';
    resultPopup.style.alignItems = 'center';
    resultPopup.style.width = '80%';
    resultPopup.style.maxWidth = '500px';
    resultPopup.style.textAlign = 'center';

    document.body.appendChild(resultPopup);

    setTimeout(() => {
        document.body.removeChild(resultPopup);
    }, 20000); // Pop-up desaparece após 20 segundos
}

function resetForm() {
    currentQuestion = 0;
    answers = new Array(questions.length).fill(null); // Reinicia as respostas como null
    document.getElementById('chat-container').innerHTML = '';
    document.getElementById('action-buttons').style.display = 'none';
    startForm();
}

document.getElementById('submit-btn').onclick = submitForm;
document.getElementById('reset-btn').onclick = resetForm;

startForm();
    

</script>
</body>
</html>
